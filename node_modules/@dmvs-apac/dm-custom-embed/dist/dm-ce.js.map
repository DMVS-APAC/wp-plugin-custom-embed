{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/dm-player/dm-player.ts","webpack:///./src/entries/dm-embed.ts"],"names":[],"mappings":"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","file":"dm-ce.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/entries/dm-embed.ts\");\n","// Libraries\n// import { waitFor } from '../utilities/wait-for';\n\n// Interfaces\nimport infPlayer from './interfaces/infPlayer';\nimport infSearch from \"./interfaces/infSearch\";\nimport infVideo from \"./interfaces/infVideo\";\n\n// Reserve DM variable for future purposes\n// declare const DM: any;\n\ndeclare global {\n    interface Window {\n        WDMObject: any;\n        cpe: any;\n    }\n}\n\nexport default class DmPlayer {\n    private rootEls: NodeListOf<HTMLDivElement> = null;\n    private playerParams: infPlayer = null;\n    private searchParams: infSearch = null;\n    private videoParams: infVideo = null;\n\n    // Events\n    private apiReady: Event;\n    private playerExtracted: Event;\n    private searchParamsReady: Event;\n\n    public constructor(rootEls: NodeListOf<HTMLDivElement>) {\n        this.rootEls = rootEls;\n\n        this.addEventListeners();\n        this.registerNewEvents();\n        this.extractAttrs();\n    }\n\n    private addEventListeners() {\n        const self = this;\n\n        document.addEventListener('dm-api-ready', ( e) => {\n            self.loadDmPlayer();\n        });\n\n        document.addEventListener('dm-player-extracted', (e) => {\n            self.prepareSearchParams();\n        });\n\n        document.addEventListener( 'dm-search-params-ready', (e) => {\n            self.searchVideo();\n        });\n    }\n\n    private registerNewEvents() {\n\n        // listen to api to be ready\n        this.apiReady = new Event('dm-api-ready');\n\n        // listen to extract player attribute to be extracted\n        this.playerExtracted = new Event('dm-player-extracted');\n\n        // listen to search params to be ready\n        this.searchParamsReady = new Event('dm-search-params-ready');\n    }\n\n    private extractAttrs() {\n        const rootEl = this.rootEls[0];\n\n        this.playerParams = {\n            maxWordSearch: rootEl.getAttribute('maxWordSearch') ? Number(rootEl.getAttribute('maxWordSearch')) : 15,\n            minWordLength: rootEl.getAttribute('minWordLength') ? Number(rootEl.getAttribute('minWordLength')) : 4,\n            minWordSearch: rootEl.getAttribute('minWordSearch') ? Number(rootEl.getAttribute('minWordSearch')) : 2,\n            language: rootEl.getAttribute(\"language\") ? rootEl.getAttribute(\"language\") : \"\",\n            sort:  rootEl.getAttribute(\"sort\") ? rootEl.getAttribute(\"sort\") : \"recent\",\n            owners: rootEl.getAttribute(\"owners\") ? rootEl.getAttribute(\"owners\") : \"\",\n            category: rootEl.getAttribute(\"category\") ? rootEl.getAttribute(\"category\") : \"\",\n            excludeIds: rootEl.getAttribute(\"excludeIds\") ? rootEl.getAttribute(\"excludeIds\") : \"\",\n            searchInPlaylist: rootEl.getAttribute(\"searchInPlaylist\") ? rootEl.getAttribute(\"searchInPlaylist\") : false,\n            syndication: rootEl.getAttribute(\"syndication\") ? rootEl.getAttribute(\"syndication\") : \"\",\n            autoPlayMute: (rootEl.getAttribute(\"autoPlayMute\") != 'false'),\n            queueEnable: (rootEl.getAttribute('queueEnable') != 'false'),\n            queueEnableNext: (rootEl.getAttribute('queueEnableNext') != 'false'),\n            controls: (rootEl.getAttribute('controls') != 'false'),\n            adsParams: rootEl.getAttribute('adsParams') ? rootEl.getAttribute('adsParams') : \"contextual\",\n            cpeId: rootEl.getAttribute('cpeId') ? rootEl.getAttribute('cpeId').split(',') : [''],\n            keywordsSelector: rootEl.getAttribute('keywordsSelector') ? rootEl.getAttribute('keywordsSelector') : null\n        };\n\n        // Tell the event listener that player parameters is extracted\n        document.dispatchEvent(this.playerExtracted);\n    }\n\n    private prepareSearchParams() {\n        const keywords = this.findKeywords(this.playerParams.keywordsSelector);\n        this.searchParams = {\n            fields: 'id,title',\n            limit: 1,\n            sort: this.playerParams.sort,\n            search: keywords ? keywords.sort((a, b) => b.length - a.length).slice(0, this.playerParams.maxWordSearch).join(' ') : \"\",\n            language: this.playerParams.language ? this.playerParams.language : ''\n        };\n\n        if (!this.playerParams.searchInPlaylist) {\n\n            this.searchParams.private = 0;\n            this.searchParams.flags = \"no_live,exportable\" + (this.playerParams.owners.length > 0 ? \"\": \",verified\");\n            this.searchParams.longer_than = 0.35; //21sec\n\n            if (this.playerParams.owners) this.searchParams.owners = this.playerParams.owners;\n\n            if (this.playerParams.category) this.searchParams.channel = this.playerParams.category;\n\n            if (this.playerParams.excludeIds) this.searchParams.exclude_ids = this.playerParams.excludeIds;\n        }\n\n        if (this.playerParams.language) this.searchParams.language = this.playerParams.language;\n\n        // Tell the event listener that search params is ready\n        document.dispatchEvent(this.searchParamsReady);\n\n    }\n\n    private htmlEntities(str) {\n        return String(str).replace(/&/g, '%26').replace(/=/g, '%3d');\n    }\n\n    private loadDmPlayer() {\n        const rootEl = this.rootEls[0];\n        let cpeEmbed = document.createElement(\"div\");\n\n        let queryString = \"\";\n\n        if (this.playerParams.adsParams === \"\") {\n            queryString += \"ads_params=contextual\";\n        } else {\n            queryString += \"ads_params=\" + this.htmlEntities(this.playerParams.adsParams);\n        }\n\n        if (this.playerParams.syndication !== \"\") queryString += \"&syndication=\" + this.playerParams.syndication;\n\n        if (this.playerParams.controls !== true) queryString += \"&controls=\" + this.playerParams.controls;\n\n        cpeEmbed.setAttribute(\"class\", \"dailymotion-cpe\");\n        cpeEmbed.setAttribute(\"video-id\", this.videoParams.id);\n        cpeEmbed.setAttribute(\"query-string\", queryString);\n\n        if(rootEl.getAttribute(\"width\") !== null){\n            this.playerParams.width = Number(rootEl.getAttribute(\"width\"));\n            cpeEmbed.setAttribute(\"width\", rootEl.getAttribute(\"width\"));\n        }\n\n        if(rootEl.getAttribute(\"height\") !== null){\n            this.playerParams.height = Number(rootEl.getAttribute(\"height\"));\n            cpeEmbed.setAttribute(\"height\", rootEl.getAttribute(\"height\"));\n        }\n\n        let cpeId = this.playerParams.cpeId[0];\n\n        if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))\n            cpeId = this.playerParams.cpeId[1] ? this.playerParams.cpeId[1] : this.playerParams.cpeId[0];\n\n        // Avoid error while building\n        const date: any = new Date();\n\n        // Append the element to the root player element\n        rootEl.appendChild(cpeEmbed);\n\n        // Load the script\n        (function(w,d,s,u,n,i,f,g,e,c){w.WDMObject=n;w[n]=w[n]||function(){(w[n].q=w[n].q||[]).push(arguments);};w[n].l=1*date;w[n].i=i;w[n].f=f;w[n].g=g;e=d.createElement(s);e.async=1;e.src=u;c=d.getElementsByTagName(s)[0];c.parentNode.insertBefore(e,c);})(window,document,\"script\",\"//api.dmcdn.net/pxl/cpe/client.min.js\",\"cpe\", cpeId);\n    }\n\n    private setVideo(video: infVideo) {\n        this.videoParams = video;\n        document.dispatchEvent(this.apiReady);\n    }\n\n    private searchVideo() {\n\n        console.log(\"%c DM related \", \"background: #56C7FF; color: #232323\", \"Search: \" + this.searchParams.search);\n\n        const properties = Object.entries( this.searchParams ).map( ([ key, value] ) => {\n            return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n        }).join('&');\n\n        const dmSearchUrl = \"https://api.dailymotion.com/\" + (this.playerParams.searchInPlaylist ? \"playlist/\" + this.playerParams.searchInPlaylist + \"/videos\" : \"videos\") + \"?\" + properties;\n\n        fetch(dmSearchUrl).then( response => {\n            return response.json();\n        }).then( data => {\n            if (data.total > 0) {\n                this.setVideo(data.list[0]);\n            } else {\n                console.log(\"%c DM related \", \"background: #56C7FF; color: #232323\", \"Can not find related video. Fallback video used.\");\n                this.getFallbackVideo();\n            }\n        });\n\n    }\n\n    private getFallbackVideo() {\n\n        // Define current time and 30 days\n        const currentTime = Math.floor(Date.now()/1000);\n        const thirtyDays = 2592000;\n        const url = \"https://api.dailymotion.com/\" + (this.playerParams.searchInPlaylist ? \"playlist/\" + this.playerParams.searchInPlaylist + \"/videos?\" : \"videos?owners=\" + this.playerParams.owners)  + \"&created_after=\" + (currentTime - thirtyDays) + \"&sort=random&limit=1&fields=id,title\";\n\n        const self = this;\n\n        fetch(url).then( response => {\n            return response.json();\n        }).then( data => {\n\n            if (data.list.length > 0) {\n\n                /**\n                 * Data return array, get the first array and pass it to setVideo function\n                 */\n                self.setVideo(data.list[0]);\n            } else {\n                console.warn(\"DM related Unable to find a fallback video\");\n            }\n        });\n\n    }\n\n    /**\n     * Find keywords strings on website\n     *\n     * Step find keywords string\n     * 1. Find meta keywords\n     * 2. Find\n     */\n    private findKeywords(selector?: string): string[] {\n        let keywords = [''];\n\n        if ( selector !== null ) {\n            const keywordContainer = document.querySelector(selector);\n            keywords = this.sanitizeKeywords(keywordContainer.getAttribute(\"content\"));\n        } else if ( selector === null && typeof document.getElementsByTagName(\"h1\")[0] !== \"undefined\") {\n            keywords = this.sanitizeKeywords(document.getElementsByTagName(\"h1\")[0].textContent);\n        }\n\n        return keywords;\n    }\n\n    /**\n     * Sanitize keywords based on language\n     *\n     * Hangul (Korea): \\u3131-\\uD79D\n     * Alphabet: a-zA-Z0-9\n     * Latin Character: \\u00C0-\\u00FF\n     * Devanagri (India): \\u0900-\\u097F\n     */\n    protected sanitizeKeywords(keywords: string): string[] {\n        return keywords.replace(/[^- \\u3131-\\uD79D a-zA-Z0-9 \\u00C0-\\u00FF \\u0900-\\u097F \\u0153]/g, ' ')\n            .split(' ')\n            .filter(word => word.length >= this.playerParams.minWordLength);\n    }\n\n}","import DmPlayer from '../dm-player/dm-player';\n\nconst el: NodeListOf<HTMLDivElement> = document.querySelectorAll('.dm-player');\n\nconst dmEmbed = new DmPlayer(el);\n\n"],"sourceRoot":""}