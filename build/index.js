!function(){"use strict";var e={300:function(e,t,n){var a=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=a.fetch,a.fetch&&(t.default=a.fetch.bind(a)),t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=window.wp.element,t=window.wp.blocks,a=window.wp.i18n;function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,i(e,t,"set"),n),n}function o(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,i(e,t,"get"))}var l=window.wp.data,d=window.wp.apiFetch,c=n.n(d);function u(e){let t=arguments.length>2?arguments[2]:void 0;const n={path:e,method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"};return void 0!==t&&(n.data=t),c()(n).then((e=>e)).catch((e=>{}))}"undefined"==typeof window?n(300):window.fetch;const m="data/dm-video",h={id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""},f={reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return"SET_VIDEO"===t.type?{videoData:t.videoData}:e},actions:{setVideo(e){return{type:"SET_VIDEO",videoData:e}}},selectors:{getVideoData(e){return e.videoData}}},p=(0,l.createReduxStore)(m,f);(0,l.register)(p);var v=window.wp.blockEditor,y=window.wp.components,g=window.wp.primitives,b=(0,e.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(g.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));function _(e,t,n){var a,r,i;e=null!==(a=e)&&void 0!==a?a:"customEvent",t=null!==(r=t)&&void 0!==r?r:"index",n=null!==(i=n)&&void 0!==i?i:{};const s=new CustomEvent(e,{detail:{sender:t,customEventData:n},bubbles:!0,cancelable:!0});document.dispatchEvent(s)}var w=new WeakMap;class E extends e.Component{constructor(e){var t,n,a;super(e),a={writable:!0,value:null},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=w),n.set(t,a),this.state={dmPlayerAttributes:{},playerLoading:!0},this.subscribes()}subscribes(){document.addEventListener("dm-video-updated",(e=>{const{isSelected:t}=this.props;t&&this.setAttr(e.detail.sender)}))}openSidebar(){document.querySelector('button[aria-label="Dailymotion Sidebar Settings"]').click()}async setAttr(e){const t=(0,l.select)(m).getVideoData();void 0!==t&&(this.props.setAttributes({videoData:t}),null===o(this,w)&&o(this,w)!==t.id&&s(this,w,t.id)),this.props.attributes.videoData.id!==o(this,w)&&null!==o(this,w)&&"video-block-component"!==e&&window.dmce.rebuild()}async componentDidMount(){_("dm-ready","video-block-component");const e=await u("/dm/v1/get-custom-options/manual_embed_player");this.setState({dmPlayerAttributes:e})}componentWillUnmount(){this.resetVideo(),document.removeEventListener("dm-video-updated",(e=>{}))}resetVideo(){this.props.setAttributes({videoData:{id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""}}),(0,l.dispatch)(m).setVideo(this.props.attributes.videoData),_("dm-video-updated","video-block-component")}setPlayerAttributes(){let e={};return this.state.dmPlayerAttributes&&(void 0!==this.state.dmPlayerAttributes.pre_video_title&&""!==this.state.dmPlayerAttributes.pre_video_title&&(e.preVideoTitle=this.state.dmPlayerAttributes.pre_video_title),"1"===this.state.dmPlayerAttributes.show_info_card&&(e.showInfocard="true"),"1"===this.state.dmPlayerAttributes.show_video_title&&(e.showVideoTitle="true"),"1"===this.state.dmPlayerAttributes.show_carousel_playlist&&(e.showOutsidePlaylist="true")),e}generateVideoContainer(){const t=this.props.attributes.videoData,n=this.setPlayerAttributes();return void 0!==t.name&&""!==t.name?(0,e.createElement)("div",r({className:"dm-player",playlistId:t.id,playerId:"x1ozy"},n)):""!==t.private_id&&null!==t.private_id?(0,e.createElement)("div",r({className:"dm-player",privateVideoId:t.private_id,playerId:"x1ozy"},n)):(0,e.createElement)("div",r({className:"dm-player",videoId:t.id,playerId:"x1ozy"},n))}generatePlaceholder(){return!1===this.state.playerLoading?(0,e.createElement)("div",{className:"dm-player__placeholder"}):(0,e.createElement)("div",{className:"dm-player__placeholder  loading"})}onSelected(){if(void 0!==this.props){const{isSelected:e}=this.props;if(e){(0,l.dispatch)(m).setVideo(this.props.attributes.videoData);const e=new CustomEvent("dm-video-active");document.dispatchEvent(e)}}}render(){return""===this.props.attributes.videoData.id?(0,e.createElement)("div",{className:"dm-player__editor"},(0,e.createElement)("p",null,"No video selected, please select by click button below"),(0,e.createElement)("button",{onClick:this.openSidebar},"Find a video")):(0,e.createElement)("div",{className:"dm-player__holder",onClick:this.onSelected()},(0,e.createElement)(v.BlockControls,null,(0,e.createElement)(y.ToolbarGroup,null,(0,e.createElement)(y.ToolbarButton,{icon:b,label:"Edit",onClick:this.openSidebar}))),this.generatePlaceholder(),this.generateVideoContainer())}}var D=window.wp.plugins,k=window.wp.editPost;function S(){return(0,e.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{class:"path",d:"m12.1479 18.5957c-2.4949 0-4.28131-1.7558-4.28131-4.0658 0-2.2176 1.78641-4.0965 4.09651-4.0965 2.2793 0 4.0349 1.7864 4.0349 4.1581 0 2.2794-1.7556 4.0042-3.8501 4.0042zm8.3521-18.5957-4.5329 1v7c-1.1088-1.41691-2.8028-1.8787-4.8049-1.8787-2.09443 0-3.97329.76993-5.5133 2.27917-1.72483 1.66323-2.6489 3.78863-2.6489 6.16033 0 2.5873.98562 4.8049 2.89526 6.499 1.44763 1.2936 3.17251 1.9402 5.17454 1.9402 1.9713 0 3.4498-.5236 4.8973-1.9402v1.9402h4.5329c0-7.6359 0-15.3641 0-23z",fill:"#333436"}))}const V="data/dm-sdk",x={connectionStatus:null},C={reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return"SET_CONNECTION_STATUS"===t.type?{connectionStatus:t.status}:e},actions:{setConnectionStatus(e){return{type:"SET_CONNECTION_STATUS",status:e}}},selectors:{getConnectionStatus(e){return e.connectionStatus}}},A=(0,l.createReduxStore)(V,C);function F(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(0,l.register)(A);var T=new WeakSet,O=new WeakSet,L=new WeakSet,P=new WeakSet,M=new WeakSet;class I{constructor(){F(this,M),F(this,P),F(this,L),F(this,O),F(this,T),this.setupDm()}async setupDm(){await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>Boolean,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new Promise(((r,i)=>{let s=0;const o=setInterval((()=>{const l=e(),d=s>n||l;s+=t,l?(r(""),clearInterval(o)):d&&(i(new Error("waitFor(): "+a)),clearInterval(o))}),t)}))}((()=>"undefined"!=typeof DM),100,12e4,"Timeout waiting for DM loaded, please refresh and make sure your internet is active"),N(this,T,B).call(this),await N(this,O,j).call(this),N(this,L,U).call(this),await N(this,M,R).call(this)}}function B(){DM._oauth.tokenUrl="https://api.dailymotion.com/oauth/token",DM.Auth.isSessionExpired=(e,t)=>(void 0===e&&(e=DM._session),!e||!(e&&"expires_in"in e&&(new Date).getTime()<1e3*parseInt(e.expires_in,10))&&(delete e.expires_in,!0))}async function j(){const e=await u("/dm/v1/get-api-key");DM.init({apiKey:e.api_key,apiSecret:e.api_secret,status:!0,cookie:!0})}function U(){DM.Event.subscribe("auth.sessionChange",(e=>{if("connected"===e?.status){let t=e.session;"expires_in"in e.session||(t.expires_in=t.expires),t.expires=t.expires+2419200,DM.Cookie.set(t)}}))}function W(){return new Promise((e=>{DM.getLoginStatus((t=>{t.session?e(!0):e(!1)}))}))}async function R(){const e=await N(this,P,W).call(this);(0,l.dispatch)(V).setConnectionStatus({connectionStatus:e});const t=new CustomEvent("dm-sdk-ready");document.dispatchEvent(t)}function q(e,t,n){z(e,t),t.set(e,n)}function z(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var G=new WeakMap,H=new WeakMap,$=new WeakSet;class Z extends e.Component{constructor(e){var t;super(e),z(this,t=$),t.add(this),q(this,G,{writable:!0,value:{id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""}}),q(this,H,{writable:!0,value:""}),this.state={videoData:o(this,G)},s(this,H,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,$,K).call(this)),this.getContent=this.getContent.bind(this),this.showImage=this.showImage.bind(this),this.subscribes()}componentDidMount(){this.setVideo()}getContent(){return(0,l.select)(m).getVideoData()}setVideo(){const e=this.getContent();this.setState({videoData:void 0===e?o(this,G):e})}subscribes(){document.addEventListener("dm-video-updated",(e=>{this.setVideo()})),document.addEventListener("dm-video-active",(e=>{this.setVideo()}))}showImage(){return""!==this.state.videoData.title||""!==this.state.videoData.name?(0,e.createElement)("div",{className:"selected-video"},(0,e.createElement)("h3",null,"Selected video"),(0,e.createElement)("figure",{className:"content__image-wrapper"},(0,e.createElement)("div",{className:"content__placement"},(0,e.createElement)("img",{src:this.state.videoData.thumbnail_240_url,alt:this.state.videoData.title?this.state.videoData.title:this.state.videoData.name,className:"content__thumbnail"}))),(0,e.createElement)("span",{className:"content__title",title:this.state.videoData.title?this.state.videoData.title:this.state.videoData.name},this.state.videoData.title?this.state.videoData.title:this.state.videoData.name)):(0,e.createElement)("p",null,"No video selected.")}render(){return(0,e.createElement)(y.PanelBody,null,this.showImage)}}function K(){return document.body.classList.contains("block-editor-page")?"gutenberg":"classic-editor"}var J=window.React,Q=e=>"checkbox"===e.type,X=e=>e instanceof Date,Y=e=>null==e;const ee=e=>"object"==typeof e;var te=e=>!Y(e)&&!Array.isArray(e)&&ee(e)&&!X(e),ne=e=>te(e)&&e.target?Q(e.target)?e.target.checked:e.target.value:e,ae=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),re=e=>Array.isArray(e)?e.filter(Boolean):[],ie=e=>void 0===e,se=(e,t,n)=>{if(!t||!te(e))return n;const a=re(t.split(/[,[\].]+?/)).reduce(((e,t)=>Y(e)?e:e[t]),e);return ie(a)||a===e?ie(e[t])?n:e[t]:a};const oe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},le={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},de="pattern",ce="required";J.createContext(null);var ue=e=>te(e)&&!Object.keys(e).length,me=e=>Array.isArray(e)?e:[e];var he=e=>"string"==typeof e,fe=(e,t,n,a,r)=>he(e)?(a&&t.watch.add(e),se(n,e,r)):Array.isArray(e)?e.map((e=>(a&&t.watch.add(e),se(n,e)))):(a&&(t.watchAll=!0),n),pe=e=>{const t=e.constructor&&e.constructor.prototype;return te(t)&&t.hasOwnProperty("isPrototypeOf")},ve="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function ye(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ve&&(e instanceof Blob||e instanceof FileList)||!n&&!te(e))return e;if(t=n?[]:{},Array.isArray(e)||pe(e))for(const n in e)t[n]=ye(e[n]);else t=e}return t}var ge=(e,t,n,a,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:r||!0}}:{},be=e=>/^\w*$/.test(e),_e=e=>re(e.replace(/["|']|\]/g,"").split(/\.|\[/));function we(e,t,n){let a=-1;const r=be(t)?[t]:_e(t),i=r.length,s=i-1;for(;++a<i;){const t=r[a];let i=n;if(a!==s){const n=e[t];i=te(n)||Array.isArray(n)?n:isNaN(+r[a+1])?{}:[]}e[t]=i,e=e[t]}return e}const Ee=(e,t,n)=>{for(const a of n||Object.keys(e)){const n=se(e,a);if(n){const{_f:e,...a}=n;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else te(a)&&Ee(a,t)}}};var De=e=>({isOnSubmit:!e||e===le.onSubmit,isOnBlur:e===le.onBlur,isOnChange:e===le.onChange,isOnAll:e===le.all,isOnTouch:e===le.onTouched}),ke=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),Se=(e,t,n)=>{const a=re(se(e,n));return we(a,"root",t[n]),we(e,n,a),e},Ve=e=>"boolean"==typeof e,xe=e=>"file"===e.type,Ce=e=>"function"==typeof e,Ae=e=>{if(!ve)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Fe=e=>he(e)||J.isValidElement(e),Ne=e=>"radio"===e.type,Te=e=>e instanceof RegExp;const Oe={value:!1,isValid:!1},Le={value:!0,isValid:!0};var Pe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ie(e[0].attributes.value)?ie(e[0].value)||""===e[0].value?Le:{value:e[0].value,isValid:!0}:Le:Oe}return Oe};const Me={isValid:!1,value:null};var Ie=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Me):Me;function Be(e,t,n="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||Ve(e)&&!e)return{type:n,message:Fe(e)?e:"",ref:t}}var je=e=>te(e)&&!Te(e)?e:{value:e,message:""},Ue=async(e,t,n,a,r)=>{const{ref:i,refs:s,required:o,maxLength:l,minLength:d,min:c,max:u,pattern:m,validate:h,name:f,valueAsNumber:p,mount:v,disabled:y}=e._f,g=se(t,f);if(!v||y)return{};const b=s?s[0]:i,_=e=>{a&&b.reportValidity&&(b.setCustomValidity(Ve(e)?"":e||""),b.reportValidity())},w={},E=Ne(i),D=Q(i),k=E||D,S=(p||xe(i))&&ie(i.value)&&ie(g)||Ae(i)&&""===i.value||""===g||Array.isArray(g)&&!g.length,V=ge.bind(null,f,n,w),x=(e,t,n,a="maxLength",r="minLength")=>{const s=e?t:n;w[f]={type:e?a:r,message:s,ref:i,...V(e?a:r,s)}};if(r?!Array.isArray(g)||!g.length:o&&(!k&&(S||Y(g))||Ve(g)&&!g||D&&!Pe(s).isValid||E&&!Ie(s).isValid)){const{value:e,message:t}=Fe(o)?{value:!!o,message:o}:je(o);if(e&&(w[f]={type:ce,message:t,ref:b,...V(ce,t)},!n))return _(t),w}if(!(S||Y(c)&&Y(u))){let e,t;const a=je(u),r=je(c);if(Y(g)||isNaN(g)){const n=i.valueAsDate||new Date(g),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;he(a.value)&&g&&(e=o?s(g)>s(a.value):l?g>a.value:n>new Date(a.value)),he(r.value)&&g&&(t=o?s(g)<s(r.value):l?g<r.value:n<new Date(r.value))}else{const n=i.valueAsNumber||(g?+g:g);Y(a.value)||(e=n>a.value),Y(r.value)||(t=n<r.value)}if((e||t)&&(x(!!e,a.message,r.message,"max","min"),!n))return _(w[f].message),w}if((l||d)&&!S&&(he(g)||r&&Array.isArray(g))){const e=je(l),t=je(d),a=!Y(e.value)&&g.length>e.value,r=!Y(t.value)&&g.length<t.value;if((a||r)&&(x(a,e.message,t.message),!n))return _(w[f].message),w}if(m&&!S&&he(g)){const{value:e,message:t}=je(m);if(Te(e)&&!g.match(e)&&(w[f]={type:de,message:t,ref:i,...V(de,t)},!n))return _(t),w}if(h)if(Ce(h)){const e=Be(await h(g,t),b);if(e&&(w[f]={...e,...V("validate",e.message)},!n))return _(e.message),w}else if(te(h)){let e={};for(const a in h){if(!ue(e)&&!n)break;const r=Be(await h[a](g,t),b,a);r&&(e={...r,...V(a,r.message)},_(r.message),n&&(w[f]=e))}if(!ue(e)&&(w[f]={ref:b,...e},!n))return w}return _(!0),w};function We(e,t){const n=Array.isArray(t)?t:be(t)?[t]:_e(t),a=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=ie(e)?a++:e[t[a++]];return e}(e,n),r=n.length-1,i=n[r];return a&&delete a[i],0!==r&&(te(a)&&ue(a)||Array.isArray(a)&&function(e){for(const t in e)if(!ie(e[t]))return!1;return!0}(a))&&We(e,n.slice(0,-1)),e}function Re(){let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var qe=e=>Y(e)||!ee(e);function ze(e,t){if(qe(e)||qe(t))return e===t;if(X(e)&&X(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const r of n){const n=e[r];if(!a.includes(r))return!1;if("ref"!==r){const e=t[r];if(X(n)&&X(e)||te(n)&&te(e)||Array.isArray(n)&&Array.isArray(e)?!ze(n,e):n!==e)return!1}}return!0}var Ge=e=>"select-multiple"===e.type,He=e=>Ne(e)||Q(e),$e=e=>Ae(e)&&e.isConnected,Ze=e=>{for(const t in e)if(Ce(e[t]))return!0;return!1};function Ke(e,t={}){const n=Array.isArray(e);if(te(e)||n)for(const n in e)Array.isArray(e[n])||te(e[n])&&!Ze(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ke(e[n],t[n])):Y(e[n])||(t[n]=!0);return t}function Je(e,t,n){const a=Array.isArray(e);if(te(e)||a)for(const a in e)Array.isArray(e[a])||te(e[a])&&!Ze(e[a])?ie(t)||qe(n[a])?n[a]=Array.isArray(e[a])?Ke(e[a],[]):{...Ke(e[a])}:Je(e[a],Y(t)?{}:t[a],n[a]):ze(e[a],t[a])?delete n[a]:n[a]=!0;return n}var Qe=(e,t)=>Je(e,t,Ke(t)),Xe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>ie(e)?e:t?""===e?NaN:e?+e:e:n&&he(e)?new Date(e):a?a(e):e;function Ye(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return xe(t)?t.files:Ne(t)?Ie(e.refs).value:Ge(t)?[...t.selectedOptions].map((({value:e})=>e)):Q(t)?Pe(e.refs).value:Xe(ie(t.value)?e.ref.value:t.value,e)}var et=(e,t,n,a)=>{const r={};for(const n of e){const e=se(t,n);e&&we(r,n,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:a}},tt=e=>ie(e)?e:Te(e)?e.source:te(e)?Te(e.value)?e.value.source:e.value:e,nt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function at(e,t,n){const a=se(e,n);if(a||be(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),i=se(t,a),s=se(e,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};r.pop()}return{name:n}}var rt=(e,t,n,a,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?a.isOnBlur:r.isOnBlur)?!e:!(n?a.isOnChange:r.isOnChange)||e),it=(e,t)=>!re(se(e,t)).length&&We(e,t);const st={mode:le.onSubmit,reValidateMode:le.onChange,shouldFocusError:!0};function ot(e={},t){let n={...st,...e};const a=e.resetOptions&&e.resetOptions.keepDirtyValues;let r,i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=(te(n.defaultValues)||te(n.values))&&ye(n.defaultValues||n.values)||{},l=n.shouldUnregister?{}:ye(o),d={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:Re(),array:Re(),state:Re()},f=De(n.mode),p=De(n.reValidateMode),v=n.criteriaMode===le.all,y=async e=>{if(m.isValid||e){const e=n.resolver?ue((await w()).errors):await E(s,!0);e!==i.isValid&&h.state.next({isValid:e})}},g=e=>m.isValidating&&h.state.next({isValidating:e}),b=(e,t,n,a)=>{const r=se(s,e);if(r){const i=se(l,e,ie(n)?se(o,e):n);ie(i)||a&&a.defaultChecked||t?we(l,e,t?i:Ye(r._f)):S(e,i),d.mount&&y()}},_=(e,t,n,a,r)=>{let s=!1,l=!1;const d={name:e};if(!n||a){m.isDirty&&(l=i.isDirty,i.isDirty=d.isDirty=D(),s=l!==d.isDirty);const n=ze(se(o,e),t);l=se(i.dirtyFields,e),n?We(i.dirtyFields,e):we(i.dirtyFields,e,!0),d.dirtyFields=i.dirtyFields,s=s||m.dirtyFields&&l!==!n}if(n){const t=se(i.touchedFields,e);t||(we(i.touchedFields,e,n),d.touchedFields=i.touchedFields,s=s||m.touchedFields&&t!==n)}return s&&r&&h.state.next(d),s?d:{}},w=async e=>await n.resolver(l,n.context,et(e||c.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),E=async(e,t,a={valid:!0})=>{for(const r in e){const s=e[r];if(s){const{_f:e,...r}=s;if(e){const r=c.array.has(e.name),o=await Ue(s,l,v,n.shouldUseNativeValidation,r);if(o[e.name]&&(a.valid=!1,t))break;!t&&(se(o,e.name)?r?Se(i.errors,o,e.name):we(i.errors,e.name,o[e.name]):We(i.errors,e.name))}r&&await E(r,t,a)}}return a.valid},D=(e,t)=>(e&&t&&we(l,e,t),!ze(F(),o)),k=(e,t,n)=>fe(e,c,{...d.mount?l:ie(t)?o:he(e)?{[e]:t}:t},n,t),S=(e,t,n={})=>{const a=se(s,e);let r=t;if(a){const n=a._f;n&&(!n.disabled&&we(l,e,Xe(t,n)),r=Ae(n.ref)&&Y(t)?"":t,Ge(n.ref)?[...n.ref.options].forEach((e=>e.selected=r.includes(e.value))):n.refs?Q(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(r)?!!r.find((t=>t===e.value)):r===e.value))):n.refs[0]&&(n.refs[0].checked=!!r):n.refs.forEach((e=>e.checked=e.value===r)):xe(n.ref)?n.ref.value="":(n.ref.value=r,n.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&_(e,r,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&A(e)},V=(e,t,n)=>{for(const a in t){const r=t[a],i=`${e}.${a}`,o=se(s,i);!c.array.has(e)&&qe(r)&&(!o||o._f)||X(r)?S(i,r,n):V(i,r,n)}},x=(e,n,a={})=>{const r=se(s,e),i=c.array.has(e),u=ye(n);we(l,e,u),i?(h.array.next({name:e,values:l}),(m.isDirty||m.dirtyFields)&&a.shouldDirty&&h.state.next({name:e,dirtyFields:Qe(o,l),isDirty:D(e,u)})):!r||r._f||Y(u)?S(e,u,a):V(e,u,a),ke(e,c)&&h.state.next({}),h.watch.next({name:e}),!d.mount&&t()},C=async t=>{const a=t.target;let o=a.name;const d=se(s,o);if(d){let b,D;const k=a.type?Ye(d._f):ne(t),S=t.type===oe.BLUR||t.type===oe.FOCUS_OUT,V=!nt(d._f)&&!n.resolver&&!se(i.errors,o)&&!d._f.deps||rt(S,se(i.touchedFields,o),i.isSubmitted,p,f),x=ke(o,c,S);we(l,o,k),S?(d._f.onBlur&&d._f.onBlur(t),r&&r(0)):d._f.onChange&&d._f.onChange(t);const C=_(o,k,S,!1),F=!ue(C)||x;if(!S&&h.watch.next({name:o,type:t.type}),V)return m.isValid&&y(),F&&h.state.next({name:o,...x?{}:C});if(!S&&x&&h.state.next({}),g(!0),n.resolver){const{errors:e}=await w([o]),t=at(i.errors,s,o),n=at(e,s,t.name||o);b=n.error,o=n.name,D=ue(e)}else b=(await Ue(d,l,v,n.shouldUseNativeValidation))[o],b?D=!1:m.isValid&&(D=await E(s,!0));d._f.deps&&A(d._f.deps),((t,n,a,s)=>{const o=se(i.errors,t),l=m.isValid&&Ve(n)&&i.isValid!==n;var d;if(e.delayError&&a?(d=()=>((e,t)=>{we(i.errors,e,t),h.state.next({errors:i.errors})})(t,a),r=e=>{clearTimeout(u),u=window.setTimeout(d,e)},r(e.delayError)):(clearTimeout(u),r=null,a?we(i.errors,t,a):We(i.errors,t)),(a?!ze(o,a):o)||!ue(s)||l){const e={...s,...l&&Ve(n)?{isValid:n}:{},errors:i.errors,name:t};i={...i,...e},h.state.next(e)}g(!1)})(o,D,b,C)}},A=async(e,t={})=>{let a,r;const o=me(e);if(g(!0),n.resolver){const t=await(async e=>{const{errors:t}=await w();if(e)for(const n of e){const e=se(t,n);e?we(i.errors,n,e):We(i.errors,n)}else i.errors=t;return t})(ie(e)?e:o);a=ue(t),r=e?!o.some((e=>se(t,e))):a}else e?(r=(await Promise.all(o.map((async e=>{const t=se(s,e);return await E(t&&t._f?{[e]:t}:t)})))).every(Boolean),(r||i.isValid)&&y()):r=a=await E(s);return h.state.next({...!he(e)||m.isValid&&a!==i.isValid?{}:{name:e},...n.resolver||!e?{isValid:a}:{},errors:i.errors,isValidating:!1}),t.shouldFocus&&!r&&Ee(s,(e=>e&&se(i.errors,e)),e?o:c.mount),r},F=e=>{const t={...o,...d.mount?l:{}};return ie(e)?t:he(e)?se(t,e):e.map((e=>se(t,e)))},N=(e,t)=>({invalid:!!se((t||i).errors,e),isDirty:!!se((t||i).dirtyFields,e),isTouched:!!se((t||i).touchedFields,e),error:se((t||i).errors,e)}),T=(e,t={})=>{for(const a of e?me(e):c.mount)c.mount.delete(a),c.array.delete(a),se(s,a)&&(t.keepValue||(We(s,a),We(l,a)),!t.keepError&&We(i.errors,a),!t.keepDirty&&We(i.dirtyFields,a),!t.keepTouched&&We(i.touchedFields,a),!n.shouldUnregister&&!t.keepDefaultValue&&We(o,a));h.watch.next({}),h.state.next({...i,...t.keepDirty?{isDirty:D()}:{}}),!t.keepIsValid&&y()},O=(e,t={})=>{let a=se(s,e);const r=Ve(t.disabled);return we(s,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),c.mount.add(e),a?r&&we(l,e,t.disabled?void 0:se(l,e,Ye(a._f))):b(e,!0,t.value),{...r?{disabled:t.disabled}:{},...n.shouldUseNativeValidation?{required:!!t.required,min:tt(t.min),max:tt(t.max),minLength:tt(t.minLength),maxLength:tt(t.maxLength),pattern:tt(t.pattern)}:{},name:e,onChange:C,onBlur:C,ref:r=>{if(r){O(e,t),a=se(s,e);const n=ie(r.value)&&r.querySelectorAll&&r.querySelectorAll("input,select,textarea")[0]||r,i=He(n),l=a._f.refs||[];if(i?l.find((e=>e===n)):n===a._f.ref)return;we(s,e,{_f:{...a._f,...i?{refs:[...l.filter($e),n,...Array.isArray(se(o,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),b(e,!1,void 0,n)}else a=se(s,e,{}),a._f&&(a._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!ae(c.array,e)||!d.action)&&c.unMount.add(e)}}},L=()=>n.shouldFocusError&&Ee(s,(e=>e&&se(i.errors,e)),c.mount),P=(n,r={})=>{const u=n||o,f=ye(u),p=n&&!ue(n)?f:o;if(r.keepDefaultValues||(o=u),!r.keepValues){if(r.keepDirtyValues||a)for(const e of c.mount)se(i.dirtyFields,e)?we(p,e,se(l,e)):x(e,se(p,e));else{if(ve&&ie(n))for(const e of c.mount){const t=se(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Ae(e)){const t=e.closest("form");if(t){t.reset();break}}}}s={}}l=e.shouldUnregister?r.keepDefaultValues?ye(o):{}:f,h.array.next({values:p}),h.watch.next({values:p})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!d.mount&&t(),d.mount=!m.isValid||!!r.keepIsValid,d.watch=!!e.shouldUnregister,h.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty||r.keepDirtyValues?i.isDirty:!(!r.keepDefaultValues||ze(n,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirty||r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&n?Qe(o,n):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},M=(e,t)=>P(Ce(e)?e(l):e,t);return Ce(n.defaultValues)&&n.defaultValues().then((e=>{M(e,n.resetOptions),h.state.next({isLoading:!1})})),{control:{register:O,unregister:T,getFieldState:N,_executeSchema:w,_focusError:L,_getWatch:k,_getDirty:D,_updateValid:y,_removeUnmounted:()=>{for(const e of c.unMount){const t=se(s,e);t&&(t._f.refs?t._f.refs.every((e=>!$e(e))):!$e(t._f.ref))&&T(e)}c.unMount=new Set},_updateFieldArray:(e,t=[],n,a,r=!0,c=!0)=>{if(a&&n){if(d.action=!0,c&&Array.isArray(se(s,e))){const t=n(se(s,e),a.argA,a.argB);r&&we(s,e,t)}if(c&&Array.isArray(se(i.errors,e))){const t=n(se(i.errors,e),a.argA,a.argB);r&&we(i.errors,e,t),it(i.errors,e)}if(m.touchedFields&&c&&Array.isArray(se(i.touchedFields,e))){const t=n(se(i.touchedFields,e),a.argA,a.argB);r&&we(i.touchedFields,e,t)}m.dirtyFields&&(i.dirtyFields=Qe(o,l)),h.state.next({name:e,isDirty:D(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else we(l,e,t)},_getFieldArray:t=>re(se(d.mount?l:o,t,e.shouldUnregister?se(o,t,[]):[])),_reset:P,_updateFormState:e=>{i={...i,...e}},_subjects:h,_proxyFormState:m,get _fields(){return s},get _formValues(){return l},get _stateFlags(){return d},set _stateFlags(e){d=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:A,register:O,handleSubmit:(e,t)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let r=ye(l);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await w();i.errors=e,r=t}else await E(s);We(i.errors,"root"),ue(i.errors)?(h.state.next({errors:{}}),await e(r,a)):(t&&await t({...i.errors},a),L()),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ue(i.errors),submitCount:i.submitCount+1,errors:i.errors})},watch:(e,t)=>Ce(e)?h.watch.subscribe({next:n=>e(k(void 0,t),n)}):k(e,t,!0),setValue:x,getValues:F,reset:M,resetField:(e,t={})=>{se(s,e)&&(ie(t.defaultValue)?x(e,se(o,e)):(x(e,t.defaultValue),we(o,e,t.defaultValue)),t.keepTouched||We(i.touchedFields,e),t.keepDirty||(We(i.dirtyFields,e),i.isDirty=t.defaultValue?D(e,se(o,e)):D()),t.keepError||(We(i.errors,e),m.isValid&&y()),h.state.next({...i}))},clearErrors:e=>{e&&me(e).forEach((e=>We(i.errors,e))),h.state.next({errors:e?i.errors:{}})},unregister:T,setError:(e,t,n)=>{const a=(se(s,e,{_f:{}})._f||{}).ref;we(i.errors,e,{...t,ref:a}),h.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},setFocus:(e,t={})=>{const n=se(s,e),a=n&&n._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:N}}const lt=t=>{let{channels:n,register:i}=t;const s=[];if(n.length<1)return null;for(let t=0;t<n.length;t++)s.push((0,e.createElement)("option",{value:n[t].id},n[t].id+" - "+n[t].screenname));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("label",{for:"channelId"},(0,a.__)("Channel ID","textdomain")),(0,e.createElement)("select",r({},i("channelId"),{className:"dm__input",id:"channelId",name:"channelId"}),s))};var dt=t=>{let{channelList:n,onSearching:i=(()=>null)}=t;const{register:s,handleSubmit:o}=function(e={}){const t=J.useRef(),[n,a]=J.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Ce(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ot(e,(()=>a((e=>({...e}))))),formState:n});const r=t.current.control;return r._options=e,function(e){const t=J.useRef(e);t.current=e,J.useEffect((()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}({subject:r._subjects.state,next:e=>{((e,t,n,a)=>{n(e);const{name:r,...i}=e;return ue(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!a||le.all)))})(e,r._proxyFormState,r._updateFormState,!0)&&a({...r._formState})}}),J.useEffect((()=>{r._stateFlags.mount||(r._updateValid(),r._stateFlags.mount=!0),r._stateFlags.watch&&(r._stateFlags.watch=!1,r._subjects.state.next({})),r._removeUnmounted()})),J.useEffect((()=>{e.values&&!ze(e.values,r._defaultValues)&&r._reset(e.values,r._options.resetOptions)}),[e.values,r]),J.useEffect((()=>{n.submitCount&&r._focusError()}),[r,n.submitCount]),t.current.formState=((e,t,n,a=!0)=>{const r={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(r,i,{get:()=>{const r=i;return t._proxyFormState[r]!==le.all&&(t._proxyFormState[r]=!a||le.all),n&&(n[r]=!0),e[r]}});return r})(n,r),t.current}();return(0,e.createElement)("form",{onSubmit:o((e=>{i(e)})),id:"formFinder"},(0,e.createElement)("label",{htmlFor:"keywords"},(0,a.__)("Keywords","textdomain")),(0,e.createElement)("input",r({id:"keywords",type:"text",name:"keywords",className:"dm__input"},s("keywords"))),(0,e.createElement)(lt,{channels:n,register:s}),(0,e.createElement)("label",{htmlFor:"find-global",className:"checkbox-label"},(0,e.createElement)("input",r({type:"checkbox",id:"find-global",name:"findGlobal"},s("findGlobal")))," ",(0,a.__)("Find global","textdomain")),(0,e.createElement)("label",{htmlFor:"find-playlist",className:"checkbox-label"},(0,e.createElement)("input",r({type:"checkbox",id:"find-playlist",name:"findPlaylist"},s("findPlaylist")))," ",(0,a.__)("Find playlist","textdomain")),(0,e.createElement)("button",{type:"submit",className:"action button"},(0,a.__)("Find","textdomain")))};const ct=t=>{let{contentData:n,callback:r=(()=>null)}=t;const i=[];if(0===n.length)i.push((0,e.createElement)("li",null));else if(void 0!==n.error){let t=n.error.message;t.includes("Invalid parameter")&&(t="Only authenticated users can use this filter."),i.push((0,e.createElement)("li",{className:"dm--grid-expand-2"},t))}else if(void 0!==n.list&&n.list.length>0){const t=n.list;if(t[0].title)for(let n=0;n<t.length;n++)i.push((0,e.createElement)("li",{key:t[n],className:`content__item ${t[n].private?"private":""} ${"ready"===t[n].status?"draft":""}`},(0,e.createElement)("button",{onClick:()=>r(t[n]),type:"button"},(0,e.createElement)("figure",{className:"content__image-wrapper"},(0,e.createElement)("div",{className:"content__placement"},(0,e.createElement)("img",{src:t[n].thumbnail_240_url,alt:t[n].title,className:"content__thumbnail"}))),(0,e.createElement)("span",{className:"content__title",title:t[n].title},t[n].title))));else for(let n=0;n<t.length;n++)i.push((0,e.createElement)("li",{key:t[n],className:"content__item "+(t[n].private?"private":"")},(0,e.createElement)("button",{onClick:()=>r(t[n]),type:"button"},(0,e.createElement)("figure",{className:"content__image-wrapper"},(0,e.createElement)("div",{className:"content__placement"},(0,e.createElement)("img",{src:t[n].thumbnail_240_url,alt:t[n].name,className:"content__thumbnail"}))),(0,e.createElement)("span",{className:"content__title",title:t[n].title},t[n].name))))}else i.push((0,e.createElement)("li",null,(0,a.__)("No video found…","textdomain")));return i};var ut=t=>{let{content:n,onAction:a=(()=>null)}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"dm__search-results"},(0,e.createElement)(ct,{contentData:n,callback:a})))};function mt(t){const{contentData:n,currentPage:r,callback:i}=t;return 0===Object.entries(n).length||0===n.total||!1===n.has_more&&1===n.page?(0,e.createElement)(e.Fragment,null):1===n.page&&!0===n.has_more?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{type:"button",className:"components-button button action dm__next-button",onClick:()=>i(r+1)},(0,a.__)("Next","textdomain"))):!1===n.has_more&&1!==n.page?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{type:"button",className:"components-button button action dm__prev-button",onClick:()=>i(r-1)},(0,a.__)("Previous","textdomain"))):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{type:"button",className:"components-button button action dm__prev-button",onClick:()=>i(r-1)},(0,a.__)("Previous","textdomain")),(0,e.createElement)("button",{type:"button",className:"components-button button action dm__next-button",onClick:()=>i(r+1)},(0,a.__)("Next","textdomain")))}var ht=new WeakMap;class ft extends e.Component{constructor(e){var t,n,a;super(e),a={writable:!0,value:""},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=ht),n.set(t,a),this.state={playlists:{},currentPage:1,allChannels:[],contentChannel:"",content:[],formData:{keywords:"",channelId:"",findGlobal:!1,findPlaylist:!1},loading:!0},this.setContent=this.setContent.bind(this),this.setupChannels=this.setupChannels.bind(this),this.findContent=this.findContent.bind(this),this.checkEditorMode=this.checkEditorMode.bind(this),this.addToBlock=this.addToBlock.bind(this)}findContent(e){this.setState({formData:e,loading:!0}),this.setContent()}async setContent(e){e=e||1,this.setState({currentPage:e});const t={data:{fields:"id,title,thumbnail_240_url,status,private,private_id",limit:10,flags:"no_live,exportable,verified",page:e,sort:"recent"}};!1!==this.state.formData.findPlaylist&&(t.data.fields="id,name,thumbnail_240_url,private",t.data.flags="verified"),""!==this.state.formData.keywords&&(t.data.search=this.state.formData.keywords);const n=void 0!==this.state.contentChannel.owners;if(!0!==this.state.formData.findGlobal&&this.state.formData.channelId?t.url="/user/"+this.state.formData.channelId+"/videos":n&&!0!==this.state.formData.findGlobal?(t.data.owners=this.state.contentChannel.owners,t.url="/videos"):t.url="/videos",this.state.formData.findPlaylist)if(!0!==this.state.formData.findGlobal&&this.state.formData.channelId)t.url="/user/"+this.state.formData.channelId+"/playlists",delete t.data.flags;else if(this.state.contentChannel.owners){const e=this.state.contentChannel.owners.split(",");t.owner=e[0],t.url="/playlists"}else t.url="/playlists";this.setState({content:await u("/dm/v2/request-api","POST",t),loading:!1})}async setupChannels(){this.setState({allChannels:await u("/dm/v2/get-option/channel_list"),contentChannel:await u("dm/v2/get-option/options_manual_embed_content")})}async componentDidMount(){await this.setupChannels(),this.checkEditorMode(),this.state.allChannels.length>0?this.findContent({keywords:"",channelId:this.state.allChannels[0].id,findGlobal:!1,findPlaylist:!1}):await this.setContent()}checkEditorMode(){document.body.classList.contains("block-editor-page")?s(this,ht,"gutenberg"):s(this,ht,"classic-editor")}addToBlock(e){if("gutenberg"===o(this,ht))(0,l.dispatch)(m).setVideo(e),_("dm-video-updated","dm-video-component");else{let t="";!0===e.private?t+=' privatevideoid="'+e.private_id+'"':void 0!==e.name?t+=' playlistid="'+e.id+'"':t+=' videoid="'+e.id+'"',wp.media.editor.insert("[dm-player"+t+"]")}}render(){return(0,e.createElement)(y.PanelBody,null,(0,e.createElement)("div",{className:"dm__content-list"},(0,e.createElement)(dt,{channelList:this.state.allChannels,onSearching:this.findContent}),this.state.loading?(0,e.createElement)("ul",{className:"dm__search-results"},(0,e.createElement)("li",null,(0,a.__)("loading…","textdomain"))):(0,e.createElement)(ut,{content:this.state.content,onAction:this.addToBlock}),(0,e.createElement)(mt,{currentPage:this.state.currentPage,callback:this.setContent,contentData:this.state.content})))}}let pt=!0;document.addEventListener("dm-ready",(async()=>{pt&&(pt=!1,window.dmce.rebuild(),document.removeEventListener("dm-ready",(()=>{})))})),(0,t.registerBlockType)("dm-settings/click-embed",{title:(0,a.__)("Dailymotion Embed"),icon:(0,e.createElement)("svg",{width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M7.65916 7.27658C6.6612 7.27658 5.94664 6.58953 5.94664 5.68561C5.94664 4.81786 6.6612 4.08263 7.58524 4.08263C8.49696 4.08263 9.1992 4.78166 9.1992 5.70972C9.1992 6.60166 8.49696 7.27658 7.65916 7.27658V7.27658ZM11 0L9.18684 0.391304V3.13043C8.74332 2.57599 8.06572 2.39529 7.26488 2.39529C6.42711 2.39529 5.67556 2.69657 5.05956 3.28714C4.36963 3.93797 4 4.76965 4 5.6977C4 6.71013 4.39425 7.57788 5.1581 8.24079C5.73716 8.74698 6.42711 9 7.22792 9C8.01644 9 8.60784 8.79511 9.18684 8.24079V9H11C11 6.01204 11 2.98796 11 0Z",fill:"#000"}),(0,e.createElement)("path",{d:"M0.902344 5.79883L3.04199 6.66357V7.3335L0.246094 6.03809V5.53906L3.04199 4.24707V4.91699L0.902344 5.79883Z",fill:"#000"}),(0,e.createElement)("path",{d:"M14.7173 5.77832L12.458 4.89307V4.24365L15.377 5.53564V6.03467L12.458 7.33008V6.67383L14.7173 5.77832Z",fill:"#000"})),category:"embed",keywords:[(0,a.__)("Dailymotion"),(0,a.__)("Embed")],attributes:{videoData:{type:"object",default:{id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""}}},edit:E,save:e=>{const{videoData:t}=e.attributes;let n="";return void 0!==t.name&&""!==t.name?n+=' playlistid="'+t.id+'"':!0===t.private?n+=' privatevideoid="'+t.private_id+'"':n+=' videoid="'+t.id+'"',"[dm-player "+n+"]"}}),new class{constructor(){this.setupDm()}setupDm(){document.addEventListener("dm-sdk-ready",(()=>{this.registerSidebar()})),new I}registerSidebar(){(0,D.registerPlugin)("dm-sidebar-settings",{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(k.PluginSidebarMoreMenuItem,{target:"dm-sidebar-settings",icon:S()},(0,a.__)("Dailymotion","textdomain")),(0,e.createElement)(k.PluginSidebar,{name:"dm-sidebar-settings",title:(0,a.__)("Dailymotion Sidebar Settings","textdomain"),icon:S()},(0,e.createElement)(Z,null),(0,e.createElement)(ft,null)))})}}}()}();