!function(){"use strict";var e={300:function(e,t){var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=window.wp.element,t=window.wp.blocks,a=window.wp.i18n;function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,i(e,t,"set"),n),n}function o(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,i(e,t,"get"))}var l=window.wp.data,d=window.wp.apiFetch,c=n.n(d);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;const a={path:e,method:t};return void 0!==n&&(a.data=n),c()(a).then((e=>e)).catch((e=>{}))}"undefined"==typeof window?n(300):window.fetch;const m="data/dm-video",h={id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""},f={reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return"SET_VIDEO"===t.type?{videoData:t.videoData}:e},actions:{setVideo:e=>({type:"SET_VIDEO",videoData:e})},selectors:{getVideoData:e=>e.videoData}},p=(0,l.createReduxStore)(m,f);(0,l.register)(p);var v=window.wp.blockEditor,y=window.wp.components,b=window.wp.primitives,g=(0,e.createElement)(b.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(b.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));function _(e,t,n){var a,r,i;e=null!==(a=e)&&void 0!==a?a:"customEvent",t=null!==(r=t)&&void 0!==r?r:"index",n=null!==(i=n)&&void 0!==i?i:{};const s=new CustomEvent(e,{detail:{sender:t,customEventData:n},bubbles:!0,cancelable:!0});document.dispatchEvent(s)}var w=new WeakMap;class E extends e.Component{constructor(e){var t,n,a;super(e),a={writable:!0,value:null},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=w),n.set(t,a),this.state={dmPlayerAttributes:{},playerLoading:!0},this.subscribes()}subscribes(){document.addEventListener("dm-video-updated",(e=>{const{isSelected:t}=this.props;t&&this.setAttr(e.detail.sender)}))}openSidebar(){document.querySelector('button[aria-label="Dailymotion Sidebar Settings"]').click()}async setAttr(e){const t=(0,l.select)(m).getVideoData();void 0!==t&&(this.props.setAttributes({videoData:t}),null===o(this,w)&&o(this,w)!==t.id&&s(this,w,t.id)),this.props.attributes.videoData.id!==o(this,w)&&null!==o(this,w)&&"video-block-component"!==e&&window.dmce.rebuild()}async componentDidMount(){_("dm-ready","video-block-component");const e=await u("/dm/v1/get-custom-options/manual_embed_player");this.setState({dmPlayerAttributes:e})}componentWillUnmount(){this.resetVideo(),document.removeEventListener("dm-video-updated",(e=>{}))}resetVideo(){this.props.setAttributes({videoData:{id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""}}),(0,l.dispatch)(m).setVideo(this.props.attributes.videoData),_("dm-video-updated","video-block-component")}setPlayerAttributes(){let e={};return this.state.dmPlayerAttributes&&(void 0!==this.state.dmPlayerAttributes.pre_video_title&&""!==this.state.dmPlayerAttributes.pre_video_title&&(e.preVideoTitle=this.state.dmPlayerAttributes.pre_video_title),"1"===this.state.dmPlayerAttributes.show_info_card&&(e.showInfocard="true"),"1"===this.state.dmPlayerAttributes.show_video_title&&(e.showVideoTitle="true"),"1"===this.state.dmPlayerAttributes.show_carousel_playlist&&(e.showOutsidePlaylist="true")),e}generateVideoContainer(){const t=this.props.attributes.videoData,n=this.setPlayerAttributes();return void 0!==t.name&&""!==t.name?(0,e.createElement)("div",r({className:"dm-player",playlistId:t.id,playerId:"x1ozy"},n)):""!==t.private_id&&null!==t.private_id?(0,e.createElement)("div",r({className:"dm-player",privateVideoId:t.private_id,playerId:"x1ozy"},n)):(0,e.createElement)("div",r({className:"dm-player",videoId:t.id,playerId:"x1ozy"},n))}generatePlaceholder(){return!1===this.state.playerLoading?(0,e.createElement)("div",{className:"dm-player__placeholder"}):(0,e.createElement)("div",{className:"dm-player__placeholder  loading"})}onSelected(){if(void 0!==this.props){const{isSelected:e}=this.props;if(e){(0,l.dispatch)(m).setVideo(this.props.attributes.videoData);const e=new CustomEvent("dm-video-active");document.dispatchEvent(e)}}}render(){return""===this.props.attributes.videoData.id?(0,e.createElement)("div",{className:"dm-player__editor"},(0,e.createElement)("p",null,"No video selected, please select by click button below"),(0,e.createElement)("button",{onClick:this.openSidebar},"Find a video")):(0,e.createElement)("div",{className:"dm-player__holder",onClick:this.onSelected()},(0,e.createElement)(v.BlockControls,null,(0,e.createElement)(y.ToolbarGroup,null,(0,e.createElement)(y.ToolbarButton,{icon:g,label:"Edit",onClick:this.openSidebar}))),this.generatePlaceholder(),this.generateVideoContainer())}}var D=window.wp.plugins,k=window.wp.editPost;function S(){return(0,e.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{class:"path",d:"m12.1479 18.5957c-2.4949 0-4.28131-1.7558-4.28131-4.0658 0-2.2176 1.78641-4.0965 4.09651-4.0965 2.2793 0 4.0349 1.7864 4.0349 4.1581 0 2.2794-1.7556 4.0042-3.8501 4.0042zm8.3521-18.5957-4.5329 1v7c-1.1088-1.41691-2.8028-1.8787-4.8049-1.8787-2.09443 0-3.97329.76993-5.5133 2.27917-1.72483 1.66323-2.6489 3.78863-2.6489 6.16033 0 2.5873.98562 4.8049 2.89526 6.499 1.44763 1.2936 3.17251 1.9402 5.17454 1.9402 1.9713 0 3.4498-.5236 4.8973-1.9402v1.9402h4.5329c0-7.6359 0-15.3641 0-23z",fill:"#333436"}))}const V="data/dm-sdk",x={connectionStatus:null},A={reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return"SET_CONNECTION_STATUS"===t.type?{connectionStatus:t.status}:e},actions:{setConnectionStatus:e=>({type:"SET_CONNECTION_STATUS",status:e})},selectors:{getConnectionStatus:e=>e.connectionStatus}},C=(0,l.createReduxStore)(V,A);function F(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(0,l.register)(C);var T=new WeakSet,P=new WeakSet,M=new WeakSet,L=new WeakSet,O=new WeakSet;class I{constructor(){F(this,O),F(this,L),F(this,M),F(this,P),F(this,T),this.setupDm()}async setupDm(){await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>Boolean,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new Promise(((r,i)=>{let s=0;const o=setInterval((()=>{const l=e(),d=s>n||l;s+=t,l?(r(""),clearInterval(o)):d&&(i(new Error("waitFor(): "+a)),clearInterval(o))}),t)}))}((()=>"undefined"!=typeof DM),100,12e4,"Timeout waiting for DM loaded, please refresh and make sure your internet is active"),N(this,T,j).call(this),await N(this,P,B).call(this),N(this,M,U).call(this),await N(this,O,q).call(this)}}function j(){DM._oauth.tokenUrl="https://api.dailymotion.com/oauth/token",DM.Auth.isSessionExpired=(e,t)=>(void 0===e&&(e=DM._session),!e||!(e&&"expires_in"in e&&(new Date).getTime()<1e3*parseInt(e.expires_in,10))&&(delete e.expires_in,!0))}async function B(){const e=await u("/dm/v1/get-api-key");DM.init({apiKey:e.api_key,apiSecret:e.api_secret,status:!0,cookie:!0})}function U(){DM.Event.subscribe("auth.sessionChange",(e=>{if("connected"===(null==e?void 0:e.status)){let t=e.session;"expires_in"in e.session||(t.expires_in=t.expires),t.expires=t.expires+2419200,DM.Cookie.set(t)}}))}function W(){return new Promise((e=>{DM.getLoginStatus((t=>{t.session?e(!0):e(!1)}))}))}async function q(){const e=await N(this,L,W).call(this);(0,l.dispatch)(V).setConnectionStatus({connectionStatus:e});const t=new CustomEvent("dm-sdk-ready");document.dispatchEvent(t)}function z(e,t,n){G(e,t),t.set(e,n)}function G(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var R=new WeakMap,H=new WeakMap,$=new WeakSet;class Z extends e.Component{constructor(e){var t;super(e),G(this,t=$),t.add(this),z(this,R,{writable:!0,value:{id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""}}),z(this,H,{writable:!0,value:""}),this.state={videoData:o(this,R)},s(this,H,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,$,K).call(this)),this.getContent=this.getContent.bind(this),this.showImage=this.showImage.bind(this),this.subscribes()}componentDidMount(){this.setVideo()}getContent(){return(0,l.select)(m).getVideoData()}setVideo(){const e=this.getContent();this.setState({videoData:void 0===e?o(this,R):e})}subscribes(){document.addEventListener("dm-video-updated",(e=>{this.setVideo()})),document.addEventListener("dm-video-active",(e=>{this.setVideo()}))}showImage(){return""!==this.state.videoData.title||""!==this.state.videoData.name?(0,e.createElement)("div",{className:"selected-video"},(0,e.createElement)("h3",null,"Selected video"),(0,e.createElement)("figure",{className:"content__image-wrapper"},(0,e.createElement)("div",{className:"content__placement"},(0,e.createElement)("img",{src:this.state.videoData.thumbnail_240_url,alt:this.state.videoData.title?this.state.videoData.title:this.state.videoData.name,className:"content__thumbnail"}))),(0,e.createElement)("span",{className:"content__title",title:this.state.videoData.title?this.state.videoData.title:this.state.videoData.name},this.state.videoData.title?this.state.videoData.title:this.state.videoData.name)):(0,e.createElement)("p",null,"No video selected.")}render(){return(0,e.createElement)(y.PanelBody,null,this.showImage)}}function K(){return document.body.classList.contains("block-editor-page")?"gutenberg":"classic-editor"}var J=window.React,Q=e=>"checkbox"===e.type,X=e=>e instanceof Date,Y=e=>null==e;const ee=e=>"object"==typeof e;var te=e=>!Y(e)&&!Array.isArray(e)&&ee(e)&&!X(e),ne=e=>Array.isArray(e)?e.filter(Boolean):[],ae=e=>void 0===e,re=(e,t,n)=>{if(!t||!te(e))return n;const a=ne(t.split(/[,[\].]+?/)).reduce(((e,t)=>Y(e)?e:e[t]),e);return ae(a)||a===e?ae(e[t])?n:e[t]:a};const ie="onChange",se="onSubmit",oe="all",le="pattern",de="required";J.createContext(null);var ce=e=>te(e)&&!Object.keys(e).length,ue=e=>Array.isArray(e)?e:[e];var me=e=>"string"==typeof e,he="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function fe(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(he&&(e instanceof Blob||e instanceof FileList)||!n&&!te(e))return e;if(t=n?[]:{},Array.isArray(e)||(e=>{const t=e.constructor&&e.constructor.prototype;return te(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)t[n]=fe(e[n]);else t=e}return t}var pe=(e,t,n,a,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:r||!0}}:{},ve=e=>/^\w*$/.test(e),ye=e=>ne(e.replace(/["|']|\]/g,"").split(/\.|\[/));function be(e,t,n){let a=-1;const r=ve(t)?[t]:ye(t),i=r.length,s=i-1;for(;++a<i;){const t=r[a];let i=n;if(a!==s){const n=e[t];i=te(n)||Array.isArray(n)?n:isNaN(+r[a+1])?{}:[]}e[t]=i,e=e[t]}return e}const ge=(e,t,n)=>{for(const a of n||Object.keys(e)){const n=re(e,a);if(n){const{_f:e,...a}=n;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else te(a)&&ge(a,t)}}};var _e=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),we=(e,t,n)=>{const a=ne(re(e,n));return be(a,"root",t[n]),be(e,n,a),e},Ee=e=>"boolean"==typeof e,De=e=>"file"===e.type,ke=e=>"function"==typeof e,Se=e=>me(e)||J.isValidElement(e),Ve=e=>"radio"===e.type,xe=e=>e instanceof RegExp;const Ae={value:!1,isValid:!1},Ce={value:!0,isValid:!0};var Fe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ae(e[0].attributes.value)?ae(e[0].value)||""===e[0].value?Ce:{value:e[0].value,isValid:!0}:Ce:Ae}return Ae};const Ne={isValid:!1,value:null};var Te=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Ne):Ne;function Pe(e,t,n="validate"){if(Se(e)||Array.isArray(e)&&e.every(Se)||Ee(e)&&!e)return{type:n,message:Se(e)?e:"",ref:t}}var Me=e=>te(e)&&!xe(e)?e:{value:e,message:""},Le=async(e,t,n,a,r)=>{const{ref:i,refs:s,required:o,maxLength:l,minLength:d,min:c,max:u,pattern:m,validate:h,name:f,valueAsNumber:p,mount:v,disabled:y}=e._f;if(!v||y)return{};const b=s?s[0]:i,g=e=>{a&&b.reportValidity&&(b.setCustomValidity(Ee(e)?"":e||""),b.reportValidity())},_={},w=Ve(i),E=Q(i),D=w||E,k=(p||De(i))&&!i.value||""===t||Array.isArray(t)&&!t.length,S=pe.bind(null,f,n,_),V=(e,t,n,a="maxLength",r="minLength")=>{const s=e?t:n;_[f]={type:e?a:r,message:s,ref:i,...S(e?a:r,s)}};if(r?!Array.isArray(t)||!t.length:o&&(!D&&(k||Y(t))||Ee(t)&&!t||E&&!Fe(s).isValid||w&&!Te(s).isValid)){const{value:e,message:t}=Se(o)?{value:!!o,message:o}:Me(o);if(e&&(_[f]={type:de,message:t,ref:b,...S(de,t)},!n))return g(t),_}if(!(k||Y(c)&&Y(u))){let e,a;const r=Me(u),s=Me(c);if(Y(t)||isNaN(t)){const n=i.valueAsDate||new Date(t),o=e=>new Date((new Date).toDateString()+" "+e),l="time"==i.type,d="week"==i.type;me(r.value)&&t&&(e=l?o(t)>o(r.value):d?t>r.value:n>new Date(r.value)),me(s.value)&&t&&(a=l?o(t)<o(s.value):d?t<s.value:n<new Date(s.value))}else{const n=i.valueAsNumber||(t?+t:t);Y(r.value)||(e=n>r.value),Y(s.value)||(a=n<s.value)}if((e||a)&&(V(!!e,r.message,s.message,"max","min"),!n))return g(_[f].message),_}if((l||d)&&!k&&(me(t)||r&&Array.isArray(t))){const e=Me(l),a=Me(d),r=!Y(e.value)&&t.length>e.value,i=!Y(a.value)&&t.length<a.value;if((r||i)&&(V(r,e.message,a.message),!n))return g(_[f].message),_}if(m&&!k&&me(t)){const{value:e,message:a}=Me(m);if(xe(e)&&!t.match(e)&&(_[f]={type:le,message:a,ref:i,...S(le,a)},!n))return g(a),_}if(h)if(ke(h)){const e=Pe(await h(t),b);if(e&&(_[f]={...e,...S("validate",e.message)},!n))return g(e.message),_}else if(te(h)){let e={};for(const a in h){if(!ce(e)&&!n)break;const r=Pe(await h[a](t),b,a);r&&(e={...r,...S(a,r.message)},g(r.message),n&&(_[f]=e))}if(!ce(e)&&(_[f]={ref:b,...e},!n))return _}return g(!0),_},Oe=e=>({isOnSubmit:!e||e===se,isOnBlur:"onBlur"===e,isOnChange:e===ie,isOnAll:e===oe,isOnTouch:"onTouched"===e});function Ie(e){for(const t in e)if(!ae(e[t]))return!1;return!0}function je(e,t){const n=ve(t)?[t]:ye(t),a=1==n.length?e:function(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=ae(e)?a++:e[t[a++]];return e}(e,n),r=n[n.length-1];let i;a&&delete a[r];for(let t=0;t<n.slice(0,-1).length;t++){let a,r=-1;const s=n.slice(0,-(t+1)),o=s.length-1;for(t>0&&(i=e);++r<s.length;){const t=s[r];a=a?a[t]:e[t],o===r&&(te(a)&&ce(a)||Array.isArray(a)&&Ie(a))&&(i?delete i[t]:delete e[t]),i=a}}return e}function Be(){let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var Ue=e=>Y(e)||!ee(e);function We(e,t){if(Ue(e)||Ue(t))return e===t;if(X(e)&&X(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const r of n){const n=e[r];if(!a.includes(r))return!1;if("ref"!==r){const e=t[r];if(X(n)&&X(e)||te(n)&&te(e)||Array.isArray(n)&&Array.isArray(e)?!We(n,e):n!==e)return!1}}return!0}var qe=e=>{const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ze=e=>"select-multiple"===e.type,Ge=e=>qe(e)&&e.isConnected,Re=e=>{for(const t in e)if(ke(e[t]))return!0;return!1};function He(e,t={}){const n=Array.isArray(e);if(te(e)||n)for(const n in e)Array.isArray(e[n])||te(e[n])&&!Re(e[n])?(t[n]=Array.isArray(e[n])?[]:{},He(e[n],t[n])):Y(e[n])||(t[n]=!0);return t}function $e(e,t,n){const a=Array.isArray(e);if(te(e)||a)for(const a in e)Array.isArray(e[a])||te(e[a])&&!Re(e[a])?ae(t)||Ue(n[a])?n[a]=Array.isArray(e[a])?He(e[a],[]):{...He(e[a])}:$e(e[a],Y(t)?{}:t[a],n[a]):We(e[a],t[a])?delete n[a]:n[a]=!0;return n}var Ze=(e,t)=>$e(e,t,He(t)),Ke=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>ae(e)?e:t?""===e?NaN:e?+e:e:n&&me(e)?new Date(e):a?a(e):e;function Je(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return De(t)?t.files:Ve(t)?Te(e.refs).value:ze(t)?[...t.selectedOptions].map((({value:e})=>e)):Q(t)?Fe(e.refs).value:Ke(ae(t.value)?e.ref.value:t.value,e)}var Qe=e=>ae(e)?e:xe(e)?e.source:te(e)?xe(e.value)?e.value.source:e.value:e;function Xe(e,t,n){const a=re(e,n);if(a||ve(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),i=re(t,a),s=re(e,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};r.pop()}return{name:n}}const Ye={mode:se,reValidateMode:ie,shouldFocusError:!0};function et(e={}){let t,n={...Ye,...e},a={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},r={},i=fe(n.defaultValues)||{},s=n.shouldUnregister?{}:fe(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,c={};const u={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={watch:Be(),array:Be(),state:Be()},h=Oe(n.mode),f=Oe(n.reValidateMode),p=n.criteriaMode===oe,v=async()=>{let e=!1;return u.isValid&&(e=n.resolver?ce((await g()).errors):await _(r,!0),e!==a.isValid&&(a.isValid=e,m.state.next({isValid:e}))),e},y=(e,t,n,a)=>{const l=re(r,e);if(l){const r=re(s,e,ae(n)?re(i,e):n);ae(r)||a&&a.defaultChecked||t?be(s,e,t?r:Je(l._f)):D(e,r),o.mount&&v()}},b=(e,t,n,r,s)=>{let o=!1,l=!1;const d={name:e};if(u.isDirty&&(l=a.isDirty,a.isDirty=d.isDirty=w(),o=l!==d.isDirty),u.dirtyFields&&(!n||r)){l=re(a.dirtyFields,e);const n=We(re(i,e),t);n?je(a.dirtyFields,e):be(a.dirtyFields,e,!0),d.dirtyFields=a.dirtyFields,o=o||l!==!n}if(n){const t=re(a.touchedFields,e);t||(be(a.touchedFields,e,n),d.touchedFields=a.touchedFields,o=o||u.touchedFields&&t!==n)}return o&&s&&m.state.next(d),o?d:{}},g=async e=>n.resolver?await n.resolver({...s},n.context,((e,t,n,a)=>{const r={};for(const n of e){const e=re(t,n);e&&be(r,n,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:a}})(e||l.mount,r,n.criteriaMode,n.shouldUseNativeValidation)):{},_=async(e,t,r={valid:!0})=>{for(const i in e){const o=e[i];if(o){const{_f:e,...i}=o;if(e){const i=l.array.has(e.name),d=await Le(o,re(s,e.name),p,n.shouldUseNativeValidation,i);if(d[e.name]&&(r.valid=!1,t))break;!t&&(re(d,e.name)?i?we(a.errors,d,e.name):be(a.errors,e.name,d[e.name]):je(a.errors,e.name))}i&&await _(i,t,r)}}return r.valid},w=(e,t)=>(e&&t&&be(s,e,t),!We(A(),i)),E=(e,t,n)=>((e,t,n,a)=>me(e)?(a&&t.watch.add(e),re(n,e)):Array.isArray(e)?e.map((e=>(a&&t.watch.add(e),re(n,e)))):(t.watchAll=!!a,n))(e,l,{...o.mount?s:ae(t)?i:me(e)?{[e]:t}:t},n),D=(e,t,n={})=>{const a=re(r,e);let i=t;if(a){const n=a._f;n&&(!n.disabled&&be(s,e,Ke(t,n)),i=he&&qe(n.ref)&&Y(t)?"":t,ze(n.ref)?[...n.ref.options].forEach((e=>e.selected=i.includes(e.value))):n.refs?Q(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):n.refs[0]&&(n.refs[0].checked=!!i):n.refs.forEach((e=>e.checked=e.value===i)):De(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||m.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&b(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&x(e)},k=(e,t,n)=>{for(const a in t){const i=t[a],s=`${e}.${a}`,o=re(r,s);!l.array.has(e)&&Ue(i)&&(!o||o._f)||X(i)?D(s,i,n):k(s,i,n)}},S=(e,t,n={})=>{const o=re(r,e),d=l.array.has(e),c=fe(t);be(s,e,c),d?(m.array.next({name:e,values:s}),(u.isDirty||u.dirtyFields)&&n.shouldDirty&&(a.dirtyFields=Ze(i,s),m.state.next({name:e,dirtyFields:a.dirtyFields,isDirty:w(e,c)}))):!o||o._f||Y(c)?D(e,c,n):k(e,c,n),_e(e,l)&&m.state.next({}),m.watch.next({name:e})},V=async i=>{const o=i.target;let y=o.name;const _=re(r,y);if(_){let E,D;const k=o.type?Je(_._f):(e=>te(e)&&e.target?Q(e.target)?e.target.checked:e.target.value:e)(i),S="blur"===i.type||"focusout"===i.type,V=!((w=_._f).mount&&(w.required||w.min||w.max||w.maxLength||w.minLength||w.pattern||w.validate)||n.resolver||re(a.errors,y)||_._f.deps)||((e,t,n,a,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?a.isOnBlur:r.isOnBlur)?!e:!(n?a.isOnChange:r.isOnChange)||e))(S,re(a.touchedFields,y),a.isSubmitted,f,h),A=_e(y,l,S);be(s,y,k),S?(_._f.onBlur&&_._f.onBlur(i),t&&t(0)):_._f.onChange&&_._f.onChange(i);const C=b(y,k,S,!1),F=!ce(C)||A;if(!S&&m.watch.next({name:y,type:i.type}),V)return u.isValid&&v(),F&&m.state.next({name:y,...A?{}:C});if(!S&&A&&m.state.next({}),c[y]=c[y]?c[y]+1:1,m.state.next({isValidating:!0}),n.resolver){const{errors:e}=await g([y]),t=Xe(a.errors,r,y),n=Xe(e,r,t.name||y);E=n.error,y=n.name,D=ce(e)}else E=(await Le(_,re(s,y),p,n.shouldUseNativeValidation))[y],v();_._f.deps&&x(_._f.deps),((n,r,i,s)=>{const o=re(a.errors,n),l=u.isValid&&Ee(r)&&a.isValid!==r;var h;if(e.delayError&&i?(h=()=>((e,t)=>{be(a.errors,e,t),m.state.next({errors:a.errors})})(n,i),t=e=>{clearTimeout(d),d=window.setTimeout(h,e)},t(e.delayError)):(clearTimeout(d),t=null,i?be(a.errors,n,i):je(a.errors,n)),(i?!We(o,i):o)||!ce(s)||l){const e={...s,...l&&Ee(r)?{isValid:r}:{},errors:a.errors,name:n};a={...a,...e},m.state.next(e)}c[n]--,u.isValidating&&!Object.values(c).some((e=>e))&&(m.state.next({isValidating:!1}),c={})})(y,D,E,C)}var w},x=async(e,t={})=>{let i,s;const o=ue(e);if(m.state.next({isValidating:!0}),n.resolver){const t=await(async e=>{const{errors:t}=await g();if(e)for(const n of e){const e=re(t,n);e?be(a.errors,n,e):je(a.errors,n)}else a.errors=t;return t})(ae(e)?e:o);i=ce(t),s=e?!o.some((e=>re(t,e))):i}else e?(s=(await Promise.all(o.map((async e=>{const t=re(r,e);return await _(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||a.isValid)&&v()):s=i=await _(r);return m.state.next({...!me(e)||u.isValid&&i!==a.isValid?{}:{name:e},...n.resolver||!e?{isValid:i}:{},errors:a.errors,isValidating:!1}),t.shouldFocus&&!s&&ge(r,(e=>e&&re(a.errors,e)),e?o:l.mount),s},A=e=>{const t={...i,...o.mount?s:{}};return ae(e)?t:me(e)?re(t,e):e.map((e=>re(t,e)))},C=(e,t)=>({invalid:!!re((t||a).errors,e),isDirty:!!re((t||a).dirtyFields,e),isTouched:!!re((t||a).touchedFields,e),error:re((t||a).errors,e)}),F=(e,t={})=>{for(const o of e?ue(e):l.mount)l.mount.delete(o),l.array.delete(o),re(r,o)&&(t.keepValue||(je(r,o),je(s,o)),!t.keepError&&je(a.errors,o),!t.keepDirty&&je(a.dirtyFields,o),!t.keepTouched&&je(a.touchedFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&je(i,o));m.watch.next({}),m.state.next({...a,...t.keepDirty?{isDirty:w()}:{}}),!t.keepIsValid&&v()},N=(e,t={})=>{let a=re(r,e);const d=Ee(t.disabled);return be(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),a?d&&be(s,e,t.disabled?void 0:re(s,e,Je(a._f))):y(e,!0,t.value),{...d?{disabled:t.disabled}:{},...n.shouldUseNativeValidation?{required:!!t.required,min:Qe(t.min),max:Qe(t.max),minLength:Qe(t.minLength),maxLength:Qe(t.maxLength),pattern:Qe(t.pattern)}:{},name:e,onChange:V,onBlur:V,ref:s=>{if(s){N(e,t),a=re(r,e);const n=ae(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=(e=>Ve(e)||Q(e))(n),l=a._f.refs||[];if(o?l.find((e=>e===n)):n===a._f.ref)return;be(r,e,{_f:{...a._f,...o?{refs:[...l.filter(Ge),n,...Array.isArray(re(i,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),y(e,!1,void 0,n)}else a=re(r,e,{}),a._f&&(a._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(l.array,e)||!o.action)&&l.unMount.add(e)}}},T=()=>n.shouldFocusError&&ge(r,(e=>e&&re(a.errors,e)),l.mount);return{control:{register:N,unregister:F,getFieldState:C,_executeSchema:g,_focusError:T,_getWatch:E,_getDirty:w,_updateValid:v,_removeUnmounted:()=>{for(const e of l.unMount){const t=re(r,e);t&&(t._f.refs?t._f.refs.every((e=>!Ge(e))):!Ge(t._f.ref))&&F(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],n,l,d=!0,c=!0)=>{if(l&&n){if(o.action=!0,c&&Array.isArray(re(r,e))){const t=n(re(r,e),l.argA,l.argB);d&&be(r,e,t)}if(c&&Array.isArray(re(a.errors,e))){const t=n(re(a.errors,e),l.argA,l.argB);d&&be(a.errors,e,t),((e,t)=>{!ne(re(e,t)).length&&je(e,t)})(a.errors,e)}if(u.touchedFields&&c&&Array.isArray(re(a.touchedFields,e))){const t=n(re(a.touchedFields,e),l.argA,l.argB);d&&be(a.touchedFields,e,t)}u.dirtyFields&&(a.dirtyFields=Ze(i,s)),m.state.next({isDirty:w(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else be(s,e,t)},_getFieldArray:t=>ne(re(o.mount?s:i,t,e.shouldUnregister?re(i,t,[]):[])),_subjects:m,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _stateFlags(){return o},set _stateFlags(e){o=e},get _defaultValues(){return i},get _names(){return l},set _names(e){l=e},get _formState(){return a},set _formState(e){a=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:x,register:N,handleSubmit:(e,t)=>async i=>{i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let o=!0,l=fe(s);m.state.next({isSubmitting:!0});try{if(n.resolver){const{errors:e,values:t}=await g();a.errors=e,l=t}else await _(r);ce(a.errors)?(m.state.next({errors:{},isSubmitting:!0}),await e(l,i)):(t&&await t({...a.errors},i),T())}catch(e){throw o=!1,e}finally{a.isSubmitted=!0,m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ce(a.errors)&&o,submitCount:a.submitCount+1,errors:a.errors})}},watch:(e,t)=>ke(e)?m.watch.subscribe({next:n=>e(E(void 0,t),n)}):E(e,t,!0),setValue:S,getValues:A,reset:(t,n)=>((t,n={})=>{const d=t||i,c=fe(d),h=t&&!ce(t)?c:i;if(n.keepDefaultValues||(i=d),!n.keepValues){if(n.keepDirtyValues)for(const e of l.mount)re(a.dirtyFields,e)?be(h,e,re(s,e)):S(e,re(h,e));else{if(he&&ae(t))for(const e of l.mount){const t=re(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(qe(e)){const t=e.closest("form");if(t){t.reset();break}}}}r={}}s=e.shouldUnregister?n.keepDefaultValues?fe(i):{}:c,m.array.next({values:h}),m.watch.next({values:h})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!n.keepIsValid,o.watch=!!e.shouldUnregister,m.state.next({submitCount:n.keepSubmitCount?a.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?a.isDirty:!(!n.keepDefaultValues||We(t,i)),isSubmitted:!!n.keepIsSubmitted&&a.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?a.dirtyFields:n.keepDefaultValues&&t?Ze(i,t):{},touchedFields:n.keepTouched?a.touchedFields:{},errors:n.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(ke(t)?t(s):t,n),resetField:(e,t={})=>{re(r,e)&&(ae(t.defaultValue)?S(e,re(i,e)):(S(e,t.defaultValue),be(i,e,t.defaultValue)),t.keepTouched||je(a.touchedFields,e),t.keepDirty||(je(a.dirtyFields,e),a.isDirty=t.defaultValue?w(e,re(i,e)):w()),t.keepError||(je(a.errors,e),u.isValid&&v()),m.state.next({...a}))},clearErrors:e=>{e?ue(e).forEach((e=>je(a.errors,e))):a.errors={},m.state.next({errors:a.errors})},unregister:F,setError:(e,t,n)=>{const i=(re(r,e,{_f:{}})._f||{}).ref;be(a.errors,e,{...t,ref:i}),m.state.next({name:e,errors:a.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},setFocus:(e,t={})=>{const n=re(r,e),a=n&&n._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:C}}const tt=t=>{let{channels:n,register:i}=t;const s=[];if(n.length<1)return null;for(let t=0;t<n.length;t++)s.push((0,e.createElement)("option",{value:n[t].id},n[t].id+" - "+n[t].screenname));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("label",{for:"channelId"},(0,a.__)("Channel ID","textdomain")),(0,e.createElement)("select",r({},i("channelId"),{className:"dm__input",id:"channelId",name:"channelId"}),s))};var nt=t=>{let{channelList:n,onSearching:i=(()=>null)}=t;const{register:s,handleSubmit:o}=function(e={}){const t=J.useRef(),[n,a]=J.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues});t.current||(t.current={...et(e),formState:n});const r=t.current.control;return r._options=e,function(e){const t=J.useRef(e);t.current=e,J.useEffect((()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>{n&&n.unsubscribe()}}),[e.disabled])}({subject:r._subjects.state,callback:J.useCallback((e=>{((e,t,n)=>{const{name:a,...r}=e;return ce(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((e=>t[e]===(!n||oe)))})(e,r._proxyFormState,!0)&&(r._formState={...r._formState,...e},a({...r._formState}))}),[r])}),J.useEffect((()=>{r._stateFlags.mount||(r._proxyFormState.isValid&&r._updateValid(),r._stateFlags.mount=!0),r._stateFlags.watch&&(r._stateFlags.watch=!1,r._subjects.state.next({})),r._removeUnmounted()})),J.useEffect((()=>{n.submitCount&&r._focusError()}),[r,n.submitCount]),t.current.formState=((e,t,n,a=!0)=>{const r={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(r,i,{get:()=>{const r=i;return t._proxyFormState[r]!==oe&&(t._proxyFormState[r]=!a||oe),n&&(n[r]=!0),e[r]}});return r})(n,r),t.current}();return(0,e.createElement)("form",{onSubmit:o((e=>{i(e)})),id:"formFinder"},(0,e.createElement)("label",{htmlFor:"keywords"},(0,a.__)("Keywords","textdomain")),(0,e.createElement)("input",r({id:"keywords",type:"text",name:"keywords",className:"dm__input"},s("keywords"))),(0,e.createElement)(tt,{channels:n,register:s}),(0,e.createElement)("label",{htmlFor:"find-global",className:"checkbox-label"},(0,e.createElement)("input",r({type:"checkbox",id:"find-global",name:"findGlobal"},s("findGlobal")))," ",(0,a.__)("Find global","textdomain")),(0,e.createElement)("label",{htmlFor:"find-playlist",className:"checkbox-label"},(0,e.createElement)("input",r({type:"checkbox",id:"find-playlist",name:"findPlaylist"},s("findPlaylist")))," ",(0,a.__)("Find playlist","textdomain")),(0,e.createElement)("button",{type:"submit",className:"action button"},(0,a.__)("Find","textdomain")))};const at=t=>{let{contentData:n,callback:r=(()=>null)}=t;const i=[];if(0===n.length)i.push((0,e.createElement)("li",null));else if(void 0!==n.error){let t=n.error.message;t.includes("Invalid parameter")&&(t="Only authenticated users can use this filter."),i.push((0,e.createElement)("li",{className:"dm--grid-expand-2"},t))}else if(void 0!==n.list&&n.list.length>0){const t=n.list;if(t[0].title)for(let n=0;n<t.length;n++)i.push((0,e.createElement)("li",{key:t[n],className:`content__item ${t[n].private?"private":""} ${"ready"===t[n].status?"draft":""}`},(0,e.createElement)("button",{onClick:()=>r(t[n]),type:"button"},(0,e.createElement)("figure",{className:"content__image-wrapper"},(0,e.createElement)("div",{className:"content__placement"},(0,e.createElement)("img",{src:t[n].thumbnail_240_url,alt:t[n].title,className:"content__thumbnail"}))),(0,e.createElement)("span",{className:"content__title",title:t[n].title},t[n].title))));else for(let n=0;n<t.length;n++)i.push((0,e.createElement)("li",{key:t[n],className:"content__item "+(t[n].private?"private":"")},(0,e.createElement)("button",{onClick:()=>r(t[n]),type:"button"},(0,e.createElement)("figure",{className:"content__image-wrapper"},(0,e.createElement)("div",{className:"content__placement"},(0,e.createElement)("img",{src:t[n].thumbnail_240_url,alt:t[n].name,className:"content__thumbnail"}))),(0,e.createElement)("span",{className:"content__title",title:t[n].title},t[n].name))))}else i.push((0,e.createElement)("li",null,(0,a.__)("No video found…","textdomain")));return i};var rt=t=>{let{content:n,onAction:a=(()=>null)}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"dm__search-results"},(0,e.createElement)(at,{contentData:n,callback:a})))};function it(t){const{contentData:n,currentPage:r,callback:i}=t;return 0===Object.entries(n).length||0===n.total||!1===n.has_more&&1===n.page?(0,e.createElement)(e.Fragment,null):1===n.page&&!0===n.has_more?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{type:"button",className:"components-button button action dm__next-button",onClick:()=>i(r+1)},(0,a.__)("Next","textdomain"))):!1===n.has_more&&1!==n.page?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{type:"button",className:"components-button button action dm__prev-button",onClick:()=>i(r-1)},(0,a.__)("Previous","textdomain"))):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{type:"button",className:"components-button button action dm__prev-button",onClick:()=>i(r-1)},(0,a.__)("Previous","textdomain")),(0,e.createElement)("button",{type:"button",className:"components-button button action dm__next-button",onClick:()=>i(r+1)},(0,a.__)("Next","textdomain")))}var st=new WeakMap;class ot extends e.Component{constructor(e){var t,n,a;super(e),a={writable:!0,value:""},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=st),n.set(t,a),this.state={playlists:{},currentPage:1,allChannels:[],contentChannel:"",content:[],formData:{keywords:"",channelId:"",findGlobal:!1,findPlaylist:!1},loading:!0},this.setContent=this.setContent.bind(this),this.setupChannels=this.setupChannels.bind(this),this.findContent=this.findContent.bind(this),this.checkEditorMode=this.checkEditorMode.bind(this),this.addToBlock=this.addToBlock.bind(this)}findContent(e){this.setState({formData:e,loading:!0}),this.setContent()}async setContent(e){e=e||1,this.setState({currentPage:e});const t={data:{fields:"id,title,thumbnail_240_url,status,private,private_id",limit:10,flags:"no_live,exportable,verified",page:e,sort:"recent"}};!1!==this.state.formData.findPlaylist&&(t.data.fields="id,name,thumbnail_240_url,private",t.data.flags="verified"),""!==this.state.formData.keywords&&(t.data.search=this.state.formData.keywords);const n=void 0!==this.state.contentChannel.owners;if(!0!==this.state.formData.findGlobal&&this.state.formData.channelId?t.url="/user/"+this.state.formData.channelId+"/videos":n&&!0!==this.state.formData.findGlobal?(t.data.owners=this.state.contentChannel.owners,t.url="/videos"):t.url="/videos",this.state.formData.findPlaylist)if(!0!==this.state.formData.findGlobal&&this.state.formData.channelId)t.url="/user/"+this.state.formData.channelId+"/playlists",delete t.data.flags;else if(this.state.contentChannel.owners){const e=this.state.contentChannel.owners.split(",");t.owner=e[0],t.url="/playlists"}else t.url="/playlists";this.setState({content:await u("/dm/v2/request-api","POST",t),loading:!1})}async setupChannels(){this.setState({allChannels:await u("/dm/v2/get-option/channel_list"),contentChannel:await u("dm/v2/get-option/options_manual_embed_content")})}async componentDidMount(){await this.setupChannels(),this.checkEditorMode(),this.state.allChannels.length>0?this.findContent({keywords:"",channelId:this.state.allChannels[0].id,findGlobal:!1,findPlaylist:!1}):await this.setContent()}checkEditorMode(){document.body.classList.contains("block-editor-page")?s(this,st,"gutenberg"):s(this,st,"classic-editor")}addToBlock(e){if("gutenberg"===o(this,st))(0,l.dispatch)(m).setVideo(e),_("dm-video-updated","dm-video-component");else{let t="";!0===e.private?t+=' privatevideoid="'+e.private_id+'"':void 0!==e.name?t+=' playlistid="'+e.id+'"':t+=' videoid="'+e.id+'"',wp.media.editor.insert("[dm-player"+t+"]")}}render(){return(0,e.createElement)(y.PanelBody,null,(0,e.createElement)("div",{className:"dm__content-list"},(0,e.createElement)(nt,{channelList:this.state.allChannels,onSearching:this.findContent}),this.state.loading?(0,e.createElement)("ul",{className:"dm__search-results"},(0,e.createElement)("li",null,(0,a.__)("loading…","textdomain"))):(0,e.createElement)(rt,{content:this.state.content,onAction:this.addToBlock}),(0,e.createElement)(it,{currentPage:this.state.currentPage,callback:this.setContent,contentData:this.state.content})))}}let lt=!0;document.addEventListener("dm-ready",(async()=>{lt&&(lt=!1,window.dmce.rebuild(),document.removeEventListener("dm-ready",(()=>{})))})),(0,t.registerBlockType)("dm-settings/click-embed",{title:(0,a.__)("Dailymotion Embed"),icon:(0,e.createElement)("svg",{width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M7.65916 7.27658C6.6612 7.27658 5.94664 6.58953 5.94664 5.68561C5.94664 4.81786 6.6612 4.08263 7.58524 4.08263C8.49696 4.08263 9.1992 4.78166 9.1992 5.70972C9.1992 6.60166 8.49696 7.27658 7.65916 7.27658V7.27658ZM11 0L9.18684 0.391304V3.13043C8.74332 2.57599 8.06572 2.39529 7.26488 2.39529C6.42711 2.39529 5.67556 2.69657 5.05956 3.28714C4.36963 3.93797 4 4.76965 4 5.6977C4 6.71013 4.39425 7.57788 5.1581 8.24079C5.73716 8.74698 6.42711 9 7.22792 9C8.01644 9 8.60784 8.79511 9.18684 8.24079V9H11C11 6.01204 11 2.98796 11 0Z",fill:"#000"}),(0,e.createElement)("path",{d:"M0.902344 5.79883L3.04199 6.66357V7.3335L0.246094 6.03809V5.53906L3.04199 4.24707V4.91699L0.902344 5.79883Z",fill:"#000"}),(0,e.createElement)("path",{d:"M14.7173 5.77832L12.458 4.89307V4.24365L15.377 5.53564V6.03467L12.458 7.33008V6.67383L14.7173 5.77832Z",fill:"#000"})),category:"embed",keywords:[(0,a.__)("Dailymotion"),(0,a.__)("Embed")],attributes:{videoData:{type:"object",default:{id:"",private:!1,private_id:"",status:"",thumbnail_240_url:"",title:"",name:""}}},edit:E,save:e=>{const{videoData:t}=e.attributes;let n="";return void 0!==t.name&&""!==t.name?n+=' playlistid="'+t.id+'"':!0===t.private?n+=' privatevideoid="'+t.private_id+'"':n+=' videoid="'+t.id+'"',"[dm-player "+n+"]"}}),new class{constructor(){this.setupDm()}setupDm(){document.addEventListener("dm-sdk-ready",(()=>{this.registerSidebar()})),new I}registerSidebar(){(0,D.registerPlugin)("dm-sidebar-settings",{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(k.PluginSidebarMoreMenuItem,{target:"dm-sidebar-settings",icon:S()},(0,a.__)("Dailymotion","textdomain")),(0,e.createElement)(k.PluginSidebar,{name:"dm-sidebar-settings",title:(0,a.__)("Dailymotion Sidebar Settings","textdomain"),icon:S()},(0,e.createElement)(Z,null),(0,e.createElement)(ot,null)))})}}}()}();